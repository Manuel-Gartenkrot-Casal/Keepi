<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - NombreProyecto</title>
    <link rel="stylesheet" href="~/css/style.css" asp-append-version="true" />
</head>

<body>
    <!-- Overlay -->
    <div class="overlay" id="overlay"></div>

    <!-- Men√∫ Lateral -->
    <div class="menu-lateral" id="menuLateral">
        <div class="menu-lateral-header">
            <h2>Men√∫</h2>
            <button class="btn-cerrar" id="btnCerrar">√ó</button>
        </div>
        <nav>
            <a href="/Home/Index"><span>üè†</span> Inicio</a>
            <a href="/Heladera/CargarProductos"><span>‚ùÑÔ∏è</span> Mi Heladera</a>
            <a href="/Recetas"><span>üçΩÔ∏è</span> Recetas</a>
            <a href="/Heladera/Heladeras"><span>‚¨ú</span> Heladeras</a>
            <a href="/Home/ListaDeSuper"><span>üõí</span> Favoritos</a>
            <a href="/Chat/ChatBot"><span>üí¨</span> Mr. Keep</a>
        </nav>
    </div>

    <!-- Notificaciones, lo puse aca -->

    @await Component.InvokeAsync("Notificaciones")

    <!-- Header -->
    <header>
        <section class="layout">
            <div class="grow1">
                <a class="menu" href="#" id="btnMenu">‚ò∞</a>
            </div>
            <div class="grow9">
                <a class="logo" href="/Home/Index">
                    <img src="~/imagenes/logokeepi.png" alt="Logo Keepi">
                </a>
            </div>
            <div class="grow1">
                <a class="notis" href="/Notificaciones/Panel">
                    <img src="~/imagenes/Notis.png" alt="Notificaciones" id="btnNoti">
                </a>
                <a class="perfil" href="/Home/Perfil">
                    <img src="~/imagenes/Perfil.png" alt="Perfil">
                </a>
            </div>
        </section>
    </header>

    <script>
        const btnMenu = document.getElementById('btnMenu');
        const btnCerrar = document.getElementById('btnCerrar');
        const menuLateral = document.getElementById('menuLateral');
        const btnNoti = document.getElementById('btnNoti');
        const panel = document.getElementById('panel');
        const btnCerrarPanel = document.getElementById('btnCerrarPanel');
        const overlay = document.getElementById('overlay');

                // Abrir men√∫
        btnMenu.addEventListener('click', (e) => {
            e.preventDefault();
            menuLateral.classList.add('active');
            overlay.classList.add('active');
        });

        // Cerrar men√∫ con bot√≥n X
        btnCerrar.addEventListener('click', () => {
            menuLateral.classList.remove('active');
            overlay.classList.remove('active');
        });

        // Cerrar men√∫ al hacer clic en overlay
        overlay.addEventListener('click', () => {
            menuLateral.classList.remove('active');
            panel.classList.remove('active');
            overlay.classList.remove('active');
        });

        // Cerrar men√∫ al hacer clic en un enlace
        const menuLinks = document.querySelectorAll('.menu-lateral nav a');
        menuLinks.forEach(link => {
            link.addEventListener('click', () => {
                menuLateral.classList.remove('active');
                overlay.classList.remove('active');
            });
        });

        //Notis

    if(btnNoti && panel && btnCerrarPanel) {
        btnNoti.addEventListener('click', (e) => {
            e.preventDefault();
            panel.classList.add('active');
            overlay.classList.add('active');
        });

        btnCerrarPanel.addEventListener('click', () => {
            panel.classList.remove('active');
            overlay.classList.remove('active');
        });

        const notisLinks = document.querySelectorAll('.notificaciones-panel ul li a');
        notisLinks.forEach(link => {
            link.addEventListener('click', () => {
                panel.classList.remove('active');
                overlay.classList.remove('active');
            });
        });
    }
    </script>

    <main role="main">
        @RenderBody()
    </main>

    <footer>
        <p>¬© 2025 Keepi ‚Äî Don't Waste It, Keepi.</p>
    </footer>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>

</html>



