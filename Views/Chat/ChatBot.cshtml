@model List<semantic_kernel.Models.ChatMessage>

@{
    ViewData["Title"] = "ChatBot";
}

<!-- Contenedor principal minimalista -->
<div class="chat-container">
    <!-- Mensajes del chat -->
    <div class="chat-messages" id="chatMessages">
        @if (Model != null && Model.Any())
        {
            @foreach (var message in Model)
            {
                <div class="message @(message.IsUser ? "user" : "bot")">
                    @Html.Raw(message.Content.Replace("\n", "<br>"))
                </div>
            }
        }
        
        <!-- Indicador de escritura -->
        <div class="typing-indicator" id="typingIndicator">
            Escribiendo...
        </div>
    </div>

    <!-- Barra de entrada -->
    <form asp-controller="Chat" asp-action="SendMessage" method="post">
        <div class="input-container">
            <input 
                type="text" 
                name="message" 
                id="messageInput" 
                placeholder="Escribe tu mensaje..." 
                maxlength="1000" />
            <button type="submit">Enviar</button>
            <button type="button" id="clearBtn" asp-controller="Chat" asp-action="ClearHistory">Limpiar</button>
        </div>
    </form>
</div>
